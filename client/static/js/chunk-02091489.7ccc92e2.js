(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02091489"],{"6e84":function(t,i,a){"use strict";a("a5e2")},a5e2:function(t,i,a){},b789:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{attrs:{id:"shopping_cart"}},[a("div",{staticClass:"heading"},[t._v(" КОРЗИНА ")]),a("div",{staticClass:"main_wrapper"},[a("div",{staticClass:"cart_wrapper"},t._l(t.cart,(function(i){return a("div",{key:i.position.name,staticClass:"cart_entry"},[a("div",{staticClass:"title"},[a("img",{attrs:{width:"88px",height:"120px",src:i.position.image}}),a("div",{staticClass:"name"},[t._v(t._s(i.position.name))])]),a("div",{staticClass:"delete_btn",on:{click:function(a){return t.$store.dispatch("remove_from_cart",i,i.position.id)}}},[a("svg",{attrs:{width:"24",height:"26",viewBox:"0 0 24 26",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{"clip-path":"url(#clip0)"}},[a("path",{attrs:{d:"M15.3101 9.0733C14.9997 9.0733 14.748 9.33585 14.748 9.6598V20.7446C14.748 21.0683 14.9997 21.3311 15.3101 21.3311C15.6206 21.3311 15.8722 21.0683 15.8722 20.7446V9.6598C15.8722 9.33585 15.6206 9.0733 15.3101 9.0733Z"}}),a("path",{attrs:{d:"M8.67827 9.0733C8.36782 9.0733 8.11621 9.33585 8.11621 9.6598V20.7446C8.11621 21.0683 8.36782 21.3311 8.67827 21.3311C8.98872 21.3311 9.24033 21.0683 9.24033 20.7446V9.6598C9.24033 9.33585 8.98872 9.0733 8.67827 9.0733Z"}}),a("path",{attrs:{d:"M3.84439 7.45559V21.9056C3.84439 22.7597 4.14452 23.5618 4.66881 24.1373C5.19069 24.7144 5.91698 25.042 6.67708 25.0434H17.3114C18.0717 25.042 18.798 24.7144 19.3197 24.1373C19.844 23.5618 20.1441 22.7597 20.1441 21.9056V7.45559C21.1863 7.16693 21.8617 6.11627 21.7223 5.00033C21.5826 3.88461 20.6717 3.05 19.5932 3.04977H16.7155V2.31665C16.7188 1.70014 16.4852 1.10814 16.067 0.672624C15.6487 0.237333 15.0805 -0.0050547 14.4897 -1.44919e-05H9.49879C8.90797 -0.0050547 8.33976 0.237333 7.92151 0.672624C7.50326 1.10814 7.26965 1.70014 7.27295 2.31665V3.04977H4.39525C3.3168 3.05 2.40587 3.88461 2.26623 5.00033C2.12681 6.11627 2.80216 7.16693 3.84439 7.45559ZM17.3114 23.8704H6.67708C5.71609 23.8704 4.9685 23.009 4.9685 21.9056V7.50714H19.02V21.9056C19.02 23.009 18.2724 23.8704 17.3114 23.8704ZM8.39707 2.31665C8.39333 2.01126 8.50838 1.71732 8.71608 1.50174C8.92356 1.28615 9.2059 1.16771 9.49879 1.17298H14.4897C14.7826 1.16771 15.0649 1.28615 15.2724 1.50174C15.4801 1.71709 15.5952 2.01126 15.5914 2.31665V3.04977H8.39707V2.31665ZM4.39525 4.22276H19.5932C20.152 4.22276 20.6049 4.69539 20.6049 5.27845C20.6049 5.86151 20.152 6.33415 19.5932 6.33415H4.39525C3.83648 6.33415 3.38354 5.86151 3.38354 5.27845C3.38354 4.69539 3.83648 4.22276 4.39525 4.22276Z"}}),a("path",{attrs:{d:"M11.9942 9.0733C11.6837 9.0733 11.4321 9.33585 11.4321 9.6598V20.7446C11.4321 21.0683 11.6837 21.3311 11.9942 21.3311C12.3046 21.3311 12.5562 21.0683 12.5562 20.7446V9.6598C12.5562 9.33585 12.3046 9.0733 11.9942 9.0733Z"}})]),a("defs",[a("clipPath",{attrs:{id:"clip0"}},[a("rect",{attrs:{width:"24",height:"25.0435",fill:"white"}})])])])]),a("div",{staticClass:"amount"},[a("div",{staticClass:"minus",on:{click:function(a){return t.$store.dispatch("change_amount",{item:i,amount:i.amount-1})}}},[t._v(" - ")]),a("div",{staticClass:"numeric"},[t._v(t._s(i.amount))]),a("div",{staticClass:"plus",on:{click:function(a){return t.$store.dispatch("change_amount",{item:i,amount:i.amount+1})}}},[t._v(" + ")])]),null!=i.position.sale_price?a("div",{staticClass:"price"},[a("span",[t._v(" "+t._s(i.position.price*i.amount)+" Р ")]),a("br"),t._v(" "+t._s(i.position.sale_price)+" Р ")]):t._e(),null==i.position.sale_price?a("div",{staticClass:"price"},[t._v(" "+t._s(i.position.price*i.amount)+" Р ")]):t._e()])})),0),a("div",{staticClass:"order_wrapper"},[a("div",{staticClass:"heading"},[t._v(" Оформить заказ ")]),a("div",{staticClass:"items_amount"},[t._v(" У вас "+t._s(t.calcPositions)+" товаров"),a("br"),a("br"),t._v("На сумму "+t._s(t.calcPrice)+" Рублей"),a("br")]),a("hr",{attrs:{color:"#000000"}}),a("div",{staticClass:"heading",staticStyle:{"text-align":"left"}},[t._v(" Промокод ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.promo,expression:"promo"}],attrs:{type:"text",placeholder:"Промокод"},domProps:{value:t.promo},on:{input:function(i){i.target.composing||(t.promo=i.target.value)}}}),t._v(" "),a("div",{staticClass:"button",class:{inactive:null==t.promo},on:{click:function(i){return t.checkPromo()}}},[t._v(" Применить ")]),null!=t.promo_profit?a("div",{staticClass:"items_amount",staticStyle:{margin:"12px 4px"}},[t._v(" Скидка: "+t._s(t.calcPrice*t.promo_profit)+" ")]):t._e(),null!=t.promo_profit?a("div",{staticClass:"summary",staticStyle:{"font-size":"2.5rem",color:"#DC9EF4","text-align":"left",margin:"8px 12px"}},[t._v(" ИТОГО: "+t._s(t.calcPrice*(1-t.promo_profit)))]):t._e(),null==t.promo_profit?a("div",{staticClass:"summary",staticStyle:{"font-size":"2.5rem",color:"#DC9EF4","text-align":"left",margin:"8px 12px"}},[t._v(" ИТОГО: "+t._s(t.calcPrice))]):t._e()])])])},o=[],r=(a("159b"),a("bc3a")),c=a.n(r),n={mounted:function(){console.log(this.cart)},data:function(){return{promo:null,promo_profit:null}},methods:{checkPromo:function(){var t=this;c.a.post("/api/promo.check",{promo:this.promo}).then((function(i){var a=i.data.status;"no promo"==a&&t.$store.dispatch("show_notification","Промокод не существует"),"expiried"==a&&t.$store.dispatch("show_notification","Срок действия промокода истёк"),"activated"==a&&t.$store.dispatch("show_notification","Промокод уже активирован"),"active"==a&&(t.promo_profit=i.data.percent/100,t.$store.dispatch("show_notification","Промокод принят"))}))}},computed:{cart:function(){return this.$store.getters.cart},calcPositions:function(){var t=0;return this.cart.forEach((function(i){t+=i.amount})),t},calcPrice:function(){var t=0;return this.cart.forEach((function(i){var a=null!==i.position.sale_price?i.position.sale_price:i.position.price;t+=a*i.amount})),t}}},e=n,p=(a("6e84"),a("2877")),l=Object(p["a"])(e,s,o,!1,null,"1cffc32c",null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-02091489.7ccc92e2.js.map